<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-8 col-sm-offset-2">
      <div class="resource-details">
        <div class="photo-showpage" style="background-image: url('<%= cl_image_path @event.photo %>')">
        </div>
        <div class="details-description">
          <h1 class="showpage-title"><%= @event.name %></h1>
          <div class="address">
            <h5>Address</h5>
            <p class="light"><%= @event.address %></p>
          </div>
          <div class="contact">
            <h5>Date</h5>
            <p class ="light"><%= @event.date.strftime("%A, %d %b %Y %l:%M %p") %></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="text-showpage">
    <div>
      <h4 class="bold">Description</h4>
      <p class="content-space"><%= @event.description  %></p>
    </div>
  </div>

  <div id="map" class="show-map" style="width: 100%; height: 400px;">
  </div>

  <%= content_for(:after_js) do %>
    <script>
      var styles = [{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"on"},{hue:"#00ffde"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"off"},{color:"#e0efef"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"},{saturation:"-100"},{lightness:"-100"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{hue:"#1900ff"},{color:"#c0e8e8"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{lightness:"68"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"on"},{lightness:"32"},{hue:"#00ff7a"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:700}]},{featureType:"water",elementType:"all",stylers:[{color:"#7dcdcd"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"##000000"}]}];
      $(document).ready(function() {
        var handler = Gmaps.build('Google');
        handler.buildMap({
          internal: { id: 'map' },
          provider: { styles: styles }
        },
        function() {
          markers = handler.addMarkers(<%= raw @event_coordinates.to_json %>);
          handler.bounds.extendWith(markers);
          handler.fitMapToBounds();
          if (markers.length == 0) {
            handler.getMap().setZoom(2);
          }
          else if (markers.length == 1) {
            handler.getMap().setZoom(14);
          }
        });
      });
    </script>
  <% end %>

</div>
